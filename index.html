<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Mi Arcade</title>

  <!-- PWA -->
  <link rel="manifest" href="manifest.webmanifest">
  <meta name="theme-color" content="#111111">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="apple-touch-icon" href="icons/icon-maskable.png">
  <link rel="apple-touch-icon" sizes="512x512" href="icons/icon-512.png">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
  <style>
    :root{--bg:#0b0b0b;--text:#f7f7f7;--gold:#ffd54a;--radius:16px;--muted:#9aa0a6}
    *{box-sizing:border-box;-webkit-tap-highlight-color:transparent}
    html,body{height:100%}
    body{
      margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto;
      background:radial-gradient(1200px 600px at 10% -20%, rgba(255,213,74,.12), transparent 60%), var(--bg);
      color:var(--text);padding:env(safe-area-inset-top) 12px env(safe-area-inset-bottom);
      display:flex;flex-direction:column;gap:10px;
    }
    header{position:sticky;top:0;z-index:2;background:linear-gradient(180deg, rgba(11,11,11,.95), rgba(11,11,11,.75) 60%, transparent);backdrop-filter:saturate(1.2) blur(6px);padding:10px 4px 6px}
    .title{display:flex;align-items:center;justify-content:space-between;gap:10px}
    .title h1{margin:0;font-size:1.6rem;background-image:linear-gradient(45deg,var(--gold),#ffa73b);background-clip:text;-webkit-background-clip:text;color:transparent;text-shadow:0 0 18px rgba(255,213,74,.28)}
    .statusbar{display:flex;align-items:center;gap:8px;font-size:.86rem;color:var(--muted)}
    .dot{width:10px;height:10px;border-radius:999px;background:#00e676;box-shadow:0 0 10px rgba(0,230,118,.5)}
    .dot.off{background:#ff5252;box-shadow:0 0 10px rgba(255,82,82,.5)}
    .install-btn{margin-left:auto;border:none;cursor:pointer;background:linear-gradient(135deg,var(--gold),#ffb347);color:#121212;font-weight:800;padding:8px 10px;border-radius:12px;display:none}
    main{padding:6px 2px 14px}
    .grid{display:grid;gap:12px;grid-template-columns:repeat(auto-fill,minmax(260px,1fr))}
    .card{background:linear-gradient(180deg,#121212,#0e0e0e);border:1px solid #2a2a2a;border-radius:var(--radius);padding:14px;display:flex;flex-direction:column;gap:12px;position:relative}
    .row{display:flex;align-items:center;justify-content:space-between;gap:10px}
    .left{display:flex;align-items:center;gap:12px}
    .logo{width:48px;height:48px;border-radius:12px;display:grid;place-items:center;font-size:26px;background:linear-gradient(135deg,#1f1f1f,#0f0f0f);border:1px solid #2b2b2b;box-shadow:inset 0 0 0 2px rgba(255,213,74,.06)}
    .name{font-weight:800;font-size:1.04rem;letter-spacing:.2px}
    .badge{font-size:.72rem;color:#121212;background:linear-gradient(135deg,var(--gold),#ffb347);padding:4px 8px;border-radius:999px;font-weight:800}
    .badge.new{box-shadow:0 0 14px rgba(255,213,74,.35)}
    .muted{color:var(--muted);font-size:.86rem}
    .btns{display:flex;gap:8px}
    .btn{flex:1 1 auto;min-width:110px;text-align:center;border:none;cursor:pointer;background:linear-gradient(135deg,var(--gold),#ffb347);color:#121212;font-weight:800;padding:10px 12px;border-radius:12px;display:flex;align-items:center;justify-content:center;gap:8px}
    .btn.secondary{background:linear-gradient(135deg,#2c2c2c,#1a1a1a);color:#eaeaea;border:1px solid #2f2f2f}
    footer{padding:18px 4px 26px;text-align:center;color:#80868b;font-size:.86rem}
    @media (max-width:420px){.grid{grid-template-columns:1fr}}
  </style>
</head>
<body>
  <header>
    <div class="title">
      <h1>üéÆ Mi Arcade</h1>
      <div class="statusbar">
        <span class="dot" id="netDot" aria-hidden="true"></span>
        <span id="netText">Conectado</span>
        <button id="installBtn" class="install-btn"><i class="fa-solid fa-download"></i> Instalar app</button>
      </div>
    </div>
  </header>

  <main>
    <div class="grid">
      <!-- Pong vertical -->
      <article class="card">
        <div class="row">
          <div class="left">
            <div class="logo" aria-hidden="true">üèì</div>
            <div><div class="name">Pong 2 Jugadores (Vertical)</div><div class="badge">2P</div></div>
          </div>
        </div>
        <div class="muted">Paletas arriba/abajo. Multitouch en m√≥viles.</div>
        <div class="btns">
          <button class="btn" onclick="location.href='pong-vertical.html'"><i class="fa-solid fa-play"></i> Jugar</button>
        </div>
      </article>

      <!-- Galactic Defender -->
      <article class="card">
        <div class="row">
          <div class="left">
            <div class="logo" aria-hidden="true">üöÄ</div>
            <div><div class="name">Galactic Defender</div><div class="badge">Arcade</div></div>
          </div>
        </div>
        <div class="muted">Jefe cada 3 niveles. Compatible m√≥vil y gamepad.</div>
        <div class="btns">
          <button class="btn" onclick="location.href='galactic-defender.html'"><i class="fa-solid fa-play"></i> Jugar</button>
        </div>
      </article>

      <!-- Pac-Man Mobile -->
      <article class="card">
        <div class="row">
          <div class="left">
            <div class="logo" aria-hidden="true">üü°</div>
            <div><div class="name">Pac-Man Mobile</div><div class="badge">Arcade</div></div>
          </div>
        </div>
        <div class="muted">DPAD t√°ctil, gestos swipe. Bot√≥n ‚ÄúVolver al panel‚Äù dentro del juego.</div>
        <div class="btns">
          <button class="btn" onclick="location.href='pacman.html'"><i class="fa-solid fa-play"></i> Jugar</button>
        </div>
      </article>

      <!-- Tetris Evolution (Nuevo) -->
      <article class="card">
        <div class="row">
          <div class="left">
            <div class="logo" aria-hidden="true">üßä</div>
            <div><div class="name">Tetris Evolution</div><div class="badge new">Nuevo</div></div>
          </div>
        </div>
        <div class="muted">7-bag, ghost piece, HOLD, hard drop, auto-repetici√≥n y UI m√≥vil.</div>
        <div class="btns">
          <button class="btn" onclick="location.href='tetris-evolution.html'"><i class="fa-solid fa-play"></i> Jugar</button>
          <button class="btn secondary" onclick="location.href='tetris-evolution.html#howto'"><i class="fa-regular fa-circle-question"></i> C√≥mo jugar</button>
        </div>
      </article>
    </div>
  </main>

  <footer>Instala esta app desde el men√∫ del navegador para usarla offline.</footer>

  <script>
    // Service Worker
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () =>
        navigator.serviceWorker.register('./service-worker.js').catch(console.error)
      );
    }
    // Estado de red
    const netDot=document.getElementById('netDot'), netText=document.getElementById('netText');
    function updateNet(){ const on=navigator.onLine; netDot.classList.toggle('off',!on); netText.textContent=on?'Conectado':'Sin conexi√≥n'; }
    window.addEventListener('online',updateNet); window.addEventListener('offline',updateNet); updateNet();
    // Bot√≥n instalar PWA
    let deferredPrompt=null; const installBtn=document.getElementById('installBtn');
    window.addEventListener('beforeinstallprompt',(e)=>{ e.preventDefault(); deferredPrompt=e; installBtn.style.display='inline-flex'; });
    installBtn.addEventListener('click', async ()=>{ if(!deferredPrompt) return; deferredPrompt.prompt(); await deferredPrompt.userChoice; deferredPrompt=null; installBtn.style.display='none'; });
  </script>
</body>
</html>